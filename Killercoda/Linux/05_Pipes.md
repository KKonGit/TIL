# 情報整理用のコマンド

- `grep` ：指定したパターンに一致する行をファイルや標準入力から検索するためのツール
- `wc`   ：キストファイルや標準入力から単語や行数、バイト数をカウントするためのツール
- `sort` ：与えられたテキストデータやファイルの行をソート（並び替え）するためのツール
- `uniq` ：ソートされたテキストデータから連続する重複した行を削除するためのツール
- `awk`  ：行単位でテキストを処理し、指定したパターンにマッチする行やフィールドを抽出・変換・処理することができる


### grep
grepは __"Global Regular Expression Print"__ の略で、正規表現を使用してパターンを検索

- オプション
  - `-i` ：大文字小文字を無視して検索
  - `-n` ：一致した行の行番号を表示する

> 例

```
grep -i "pattern" file.txt
```

### wc

- オプション
  - `-l` ： 行数を表示する
  - `-w` ： 単語数を表示する
  - `-c` ： バイト数を表示する

> 例

```
$ cat example.txt
Hello, this is an example text file.
It has multiple lines.
Let's see how wc counts them.

$ wc example.txt
 3  15 104 example.txt
```


### sort

- オプション
  - `-r`：逆順位してソート(reverse)
  - `-n`：数字としてソート(numeric)
  - `-k`：特定の列を基準にしてソード(key)
  - `-u`：重複した行を１つだけ表示(unique)



## uniq

- オプション
  - `-c` ：それぞれの行がいくつ連続してるかを表示する(count)
  - `-d` ：重複している行だけを表示する(repeated)
  - `-u` ：重複していない行だけを表示する(unique)


uniqは通常、sortコマンドと組み合わせて使われ、連続する重複した行を一意の行にまとめるのに役立ちます。

> [! caution]
> sortコマンドで先にソートを行ってから利用するようにする

## awk

```
awk 'pattern { action }' [ファイル...]
```

- pattern：マッチする条件やパターンを指定
- action：パターンにマッチした行に対して実行する処理を指定


例えば、file.txtというファイルから各行の2列目と3列目を合計して表示する場合：

```
awk '{ sum = $2 + $3; print sum }' file.txt
```

ここでは、$2や$3は2列目や3列目を表しています。awkではデフォルトで空白文字でフィールドが区切られます。

また、行数が10より多い行だけを表示する場合：

```
awk 'NR > 10 { print }' file.txt
```

NRは行番号を表し、上記の例では10行目よりも行番号が大きい場合にその行を表示します。




### 利用例

とある、各行に数字が記載されたファイルnumbers.txtがあるとします
そのファイルの行数のみを数えたい場合は

 ` wc -l numbers.txt | awk '{print $1}' ` 

※ `wc -l numbers.txt`だけだと行数だけでなくファイル名も出力されてしまう

もしくは
`awk 'END{print NR}' numbers.txt`

 - `END{print NR}`: パターンとしてENDを指定しています。これはファイルの終わり（最後の行）にマッチします。その際、アクションとしてNR（行番号）を出力する処理を行います。
具体的には、numbers.txtの全ての行が読み込まれた後に、ENDパターンにマッチしてアクションが実行され、行番号 NR（Number of Records）が表示されます。

もしくは
` wc -l < numbers.txt `

` < numbers.txt `: 入力をnumbers.txtから受け取ることを示しています。
この構造は、numbers.txtの中身を直接wcコマンドに渡すというものです。
通常のwc -l numbers.txtと異なり、ファイル名を引数に取らずにファイルの内容を直接入力として扱います。



## リダイレクトコマンド　「>」

- リダイレクト先のファイルが存在しない場合は新規作成
- リダイレクトされた出力からコンテンツを追加する
- ファイルが存在し、から出ない場合はファイルをクリアし、リダイレクトされた出力をからのファイルに書き込む

上書きではなく、追記を行いたい場合は

###  >>

を利用する





